/*
 * This file is part of SAC Event Tool Bundle.
 *
 * (c) Marko Cupic 2024 <m.cupic@gmx.ch>
 * @license GPL-3.0-or-later
 * For the full copyright and license information,
 * please view the LICENSE file that was distributed with this source code.
 * @link https://github.com/markocupic/sac-event-tool-bundle
 */ var EventFilter={options:null,initialize:function(e){let t=this;t.options=e,document.getElementById("ctrl_organizers")&&$("#ctrl_organizers").select2(),document.getElementById("ctrl_tourType")&&$("#ctrl_tourType").select2(),document.getElementById("ctrl_courseType")&&$("#ctrl_courseType").select2(),$("#ctrl_tourType").select2(),$("#ctrl_courseType").select2(),$("#ctrl_year")&&window.setInterval(()=>{$(".select2-selection__choice").length?$(".select2-selection").css({height:"auto"}):$(".select2-selection").css({height:$("#ctrl_year").outerHeight()+"px"})},100),window.addEventListener("resize",function(){$(".select2.select2-container").css({"max-width":"100%",width:"100%"})}),window.setTimeout(()=>{$(".filter-board-widget").css("visibility","visible")},20),$(".filter-board .reset-form").click(function(e){e.stopPropagation(),e.preventDefault(),window.location.href=location.href.replace(location.search,"")});let r={dateFormat:t.options.dateFormat,locale:t.options.locale},l=new Date;if(l.getMonth(),l.getDate(),l.getFullYear(),t.getUrlParam("year")>0)r.minDate=t.getUrlParam("year")+"-01-01",r.maxDate=t.getUrlParam("year")+"-12-31",r.defaultDate="",""!=t.getUrlParam("dateStart")&&(r.defaultDate=t.getUrlParam("dateStart"));else{let a=new Date,c=a.getMonth()+1,i=a.getDate(),o=a.getFullYear();r.minDate=o+"-"+c+"-"+i,o+=2,r.maxDate=o+"-"+c+"-"+i}flatpickr("#ctrl_dateStart",r)},getUrlParam:function(e){"use strict";let t=RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null===t?0:t[1]||0}};