/*
 * This file is part of SAC Event Tool Bundle.
 *
 * (c) Marko Cupic 2024 <m.cupic@gmx.ch>
 * @license GPL-3.0-or-later
 * For the full copyright and license information,
 * please view the LICENSE file that was distributed with this source code.
 * @link https://github.com/markocupic/sac-event-tool-bundle
 */ var EventFilter={options:null,initialize:function(e){let t=this;t.options=e,$("#ctrl_organizers").select2(),$("#ctrl_year")&&window.setInterval(()=>{$(".select2-selection__choice").length?$(".select2-selection").css({height:"auto"}):$(".select2-selection").css({height:$("#ctrl_year").outerHeight()+"px"})},100),window.addEventListener("resize",function(){$(".select2.select2-container").css({"max-width":"100%",width:"100%"})}),window.setTimeout(()=>{$(".filter-board-widget").css("visibility","visible")},20),$(".filter-board .reset-form").click(function(e){e.stopPropagation(),e.preventDefault(),window.location.href=location.href.replace(location.search,"")});let a={dateFormat:t.options.dateFormat,locale:t.options.locale},r=new Date;if(r.getMonth(),r.getDate(),r.getFullYear(),t.getUrlParam("year")>0)a.minDate=t.getUrlParam("year")+"-01-01",a.maxDate=t.getUrlParam("year")+"-12-31",a.defaultDate="",""!=t.getUrlParam("dateStart")&&(a.defaultDate=t.getUrlParam("dateStart"));else{let l=new Date,i=l.getMonth()+1,n=l.getDate(),o=l.getFullYear();a.minDate=o+"-"+i+"-"+n,o+=2,a.maxDate=o+"-"+i+"-"+n}flatpickr("#ctrl_dateStart",a)},getUrlParam:function(e){"use strict";let t=RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null===t?0:t[1]||0}};